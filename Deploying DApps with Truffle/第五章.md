å¤ªæ£’äº†ï¼ä½ å·²ç¶“æˆåŠŸç·¨è­¯åŸå§‹ç¢¼ä¸¦å‰µå»ºäº†ä¸€å€‹migrationæª”æ¡ˆã€‚

åœ¨æˆ‘å€‘å¯ä»¥éƒ¨ç½²ä¹‹å‰é‚„æœ‰ä¸€ä»¶äº‹æƒ…è¦åšã€‚æˆ‘å€‘æœƒéœ€è¦ç·¨è¼¯cofigurationæª”æ¡ˆä¾†å‘Šè¨´Truffleæˆ‘å€‘è¦éƒ¨å±¬å“ªå€‹ç¶²è·¯ã€‚

ç­‰ä¸€ç­‰ï¼Œæˆ‘æƒ³åªæœ‰ä¸€å€‹ä»¥å¤ªåŠç¶²è·¯ã€‚æˆ‘éºæ¼ç”šéº¼äº†å—ï¼Ÿ

## Ethereum Test Network
æœ‰å¥½å¹¾å€‹å…¬é–‹çš„ä»¥å¤ªåŠæ¸¬è©¦ç¶²è·¯å¯ä»¥è®“ä½ åœ¨éƒ¨ç½²ä¹‹å‰æ¸¬è©¦ä½ çš„æ™ºèƒ½åˆç´„(è¦è¨˜å¾—ä¾ä½†ä½ éƒ¨ç½²ä¸€å€‹åˆç´„åˆ°ä¸»ç¶²ä¸Šå°±ä¸èƒ½å†è®Šæ›´)ã€‚é€™äº›æ¸¬è©¦ç¶²è·¯ä½¿ç”¨ä¸åŒæ–¼ä¸»ç¶²çš„å…±è­˜æ¼”ç®—æ³•(é€šå¸¸æ˜¯PoAã€‚)ï¼Œä¸Šé¢çš„ä»¥å¤ªå¹£å…è²»çš„é¼“å‹µä½ ä»”ç´°æ¸¬è©¦ã€‚

åœ¨é€™å ‚èª²ä¸­ï¼Œæˆ‘å€‘æœƒä½¿ç”¨Rinkebyï¼Œä¸€å€‹å…¬å…±æ¸¬è©¦ç¶²è·¯ç”±ä»¥å¤ªåŠåŸºé‡‘æœƒå‰µå»ºã€‚

## The truffle.js configuration file
ç¾åœ¨ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹é è¨­çš„Truffle configurationæª”æ¡ˆé•·æ€æ¨£ï¼š
```
$ cat truffle.js
/*
 * NB: since truffle-hdwallet-provider 0.0.5 you must wrap HDWallet providers in a
 * function when declaring them. Failure to do so will cause commands to hang. ex:
 *
 * mainnet: {
 *     provider: function() {
 *       return new HDWalletProvider(mnemonic, 'https://mainnet.infura.io/<infura-key>')
 *     },
 *     network_id: '1',
 *     gas: 4500000,
 *     gasPrice: 10000000000,
 *   },
 */
```
å®ƒåªæ˜¯ä¸€å€‹ç©ºçš„æ¶æ§‹ã€‚å› æ­¤ï¼Œæˆ‘å€‘éœ€è¦æ›´æ–°é€™å€‹æª”æ¡ˆä¾†è®“æˆ‘å€‘éƒ¨å±¬åˆç´„åˆ°Rinkebyå’Œä»¥å¤ªåŠä¸»ç¶²ã€‚

## Truffle HD Wallet Provider
é‚„è¨˜å¾—ç¬¬äºŒç« ç¯€å—ï¼Ÿ

æˆ‘å€‘è¦ä½ å®‰è£é¡å¤–çš„å¥—ä»¶truffle-hdwallet-providerå®ƒå¹«åŠ©**Truffle**ç°½ç½²äº¤æ˜“ã€‚

ç¾åœ¨ï¼Œæˆ‘å€‘æƒ³è¦ç·¨è¼¯æˆ‘å€‘çš„configurationæª”æ¡ˆä½¿ç”¨ HDWalletProviderã€‚æˆ‘å€‘åœ¨æª”æ¡ˆçš„æœ€ä¸Šé¢åŠ ä¸Šä¸€è¡Œcodeä¾†è®“å®ƒé‹ä½œï¼š
```javascript
var HDWalletProvider = require("truffle-hdwallet-provider");
```
æ¥è‘—ï¼Œæˆ‘å€‘å‰µå»ºä¸€å€‹æ–°çš„è®Šæ•¸ä¾†å„²å­˜æˆ‘å€‘çš„åŠ©è¨˜è©ï¼š
```javascript
var mnemonic = "onions carrots beans ...";
```
è¦æ³¨æ„æˆ‘å€‘ä¸æ¨è–¦ä¿å­˜åƒåŠ©è¨˜è©æˆ–ç§é‘°é€™äº›ç¥•å¯†åœ¨configurationæª”æ¡ˆä¸­ã€‚

ä½†ç‚ºç”šéº¼å‘¢ï¼Ÿ

Configæª”æ¡ˆé€šå¸¸æœƒæ¨é€åˆ°GitHubï¼Œæ˜¯æ¯ä¸€å€‹äººéƒ½å¯ä»¥çœ‹åˆ°çš„åœ°æ–¹ï¼Œè®“ä½ ä¸­è·¯å¤§é–‹ğŸ˜±ï¼è¦é¿å…æ´©éœ²ä½ çš„åŠ©è¨˜è©(é‚„æœ‰ä½ çš„ç§é‘°ï¼)ï¼Œä½ æ‡‰è©²è¦å¾ä¸€å€‹æª”æ¡ˆä¸­è®€å–ä¸¦å°‡è©²æª”æ¡ˆåŠ åˆ°.gitignoreã€‚æˆ‘å€‘æœƒå€‹è¨´ä½ å¦‚ä½•é€™éº¼åšã€‚

åœ¨é€™è£¡æˆ‘å€‘ç°¡å–®ä¸€äº›ï¼Œå·²ç¶“å¹«ä½ è¤‡è£½äº†åŠ©è¨˜è©ä¸¦å­˜åˆ°ä¸€å€‹è®Šæ•¸ä¸­ã€‚

## Set up Truffle for Rinkeby and Ethereum main net
æ¥è‘—ï¼Œè¦ç¢ºå®šè®“Truffle"çŸ¥é“"æˆ‘å€‘æƒ³è¦éƒ¨å±¬åœ¨å“ªå€‹ç¶²è·¯ä¸Šï¼Œæˆ‘å€‘è¦å‰µå»ºå…©å€‹ä¸åŒçš„ç‰©ä»¶ï¼ï¼ä¸€å€‹æ˜¯Rinkebyå¦ä¸€å€‹æ˜¯ä»¥å¤ªåŠä¸»ç¶²ã€‚
```javascript
networks: {
  // Configuration for mainnet
  mainnet: {
    provider: function () {
      // Setting the provider with the Infura Rinkeby address and Token
      return new HDWalletProvider(mnemonic, "https://mainnet.infura.io/v3/YOUR_TOKEN")
    },
    network_id: "1"
  },
  // Configuration for rinkeby network
  rinkeby: {
    // Special function to setup the provider
    provider: function () {
      // Setting the provider with the Infura Rinkeby address and Token
      return new HDWalletProvider(mnemonic, "https://rinkeby.infura.io/v3/YOUR_TOKEN")
    },
    // Network id is 4 for Rinkeby
    network_id: 4
  }
```

> Noteï¼šprovdiderçš„å€¼è¢«åŒ…è£åœ¨ä¸€å€‹å‡½æ•¸ä¸­ï¼Œå®ƒç¢ºä¿äº†ç›´åˆ°ä»–è¢«éœ€è¦å‰éƒ½ä¸æœƒè¢«åˆå§‹åŒ–ã€‚

## Wrapping it up
ç¾åœ¨ï¼Œä¾†æŠŠé€™äº›ç‰‡æ®µæ”¾åœ¨ä¸€èµ·å€™çœ‹çœ‹æˆ‘å€‘çš„configæª”æ¡ˆè¦é•·å¾—åƒé€™æ¨£ï¼š
```
// Initialize HDWalletProvider
const HDWalletProvider = require("truffle-hdwallet-provider");

// Set your own mnemonic here
const mnemonic = "YOUR_MNEMONIC";

// Module exports to make this configuration available to Truffle itself
module.exports = {
  // Object with configuration for each network
  networks: {
    // Configuration for mainnet
    mainnet: {
      provider: function () {
        // Setting the provider with the Infura Rinkeby address and Token
        return new HDWalletProvider(mnemonic, "https://mainnet.infura.io/v3/YOUR_TOKEN")
      },
      network_id: "1"
    },
    // Configuration for rinkeby network
    rinkeby: {
      // Special function to setup the provider
      provider: function () {
        // Setting the provider with the Infura Rinkeby address and Token
        return new HDWalletProvider(mnemonic, "https://rinkeby.infura.io/v3/YOUR_TOKEN")
      },
      // Network id is 4 for Rinkeby
      network_id: 4
    }
  }
};
```

## Put it to the test:
æˆ‘å€‘å…ˆå¹«ä½ æ›´æ–°äº†å¤§éƒ¨åˆ†çš„configurationæª”æ¡ˆã€‚ä¾†å¡«å…¥é€™äº›éºå¤±çš„éƒ¨åˆ†ï¼š
1. åœ¨æª”æ¡ˆçš„æœ€ä¸Šé¢ï¼ŒåŠ å…¥ä¸€è¡Œcodeä¾†åˆå§‹åŒ– truffle-hdwallet-providerã€‚
2. å¡«å…¥Rinkeby networkçš„ network_idã€‚å¦‚æœä½ ä¸è¨˜å¾—é€™å€‹åƒæ•¸çš„å€¼ï¼Œçœ‹çœ‹ä¸Šé¢é‚£ä¸€å°æ®µcodeã€‚

### å–®å­—&è¨»è§£
PoAï¼šProof of Authorityåªæœ‰æˆæ¬Šç¯€é»å¯ä»¥æŒ–ç¤¦ï¼Œç¯€é»é–“ä¸éœ€è¦ç®—åŠ›ç«¶çˆ­ä¹Ÿå°±è®“æŒ–ç¤¦æˆæœ¬éå¸¸ä½å»‰ï¼Œç•¶ç„¶æŒ–å‡ºä¾†çš„Etherä¹Ÿæ²’æœ‰åƒ¹å€¼ã€‚