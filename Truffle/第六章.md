目前一切順利！現在我們確定使用者可以創建新的殭屍。(okay)

然而，如果我們持續呼叫這個function來創建無限的殭屍大軍，這個遊戲就不好玩了。因此，在 [Chapter 4 of Lesson 2](https://cryptozombies.io/zh/lesson/2/chapter/1)我們在 createZombieFunction 中require 一個狀態，來確保每個使用者不能擁有超過一個殭屍。

```javascript
require(ownerZombieCount[msg.sender] == 0)
```
來測試這個功能行不行。

## Hooks
在等等，我們會有超過一個以上的test，要讓他們好好運作得讓每個test開始時都是乾淨的一頁。因此，在每一個test我們都要加入一個新的智能合約實例(instance)像這樣：
```javascript
const contractInstance = await CryptoZombies.new();
```
如果你只需要寫一次， Truffle就會自動幫你在每一個test中運行，那不是超讚嗎？

Well...Mocha(Truffle也有)的一個功能就是在每次開始或結束test時run一小段名為 *hooks* 的code。要在test開始前執行的話，這段code應該要放在一個名為beforeEach()的函數中。


---
snippet : a small  and often interesting piece of news, information